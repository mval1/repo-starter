# Как выпустить новую версию библиотеки

Данная документация предназначена для основных участников разработки и описывает процесс выпуска пакетов `@softapro`.

---

## Предварительные требования

1. У вас должна быть учетная запись NPM, и npm должен быть настроен с вашим токеном.
2. Вы должны быть участником организации `@softapro` на [github.com](https://npm.pkg.github.com).
3. У вас должны быть права на внесение изменений напрямую в ветку `master` (вы должны быть администратором).

---

## Определение нового номера версии

Проект придерживается [Семантического Версионирования](https://semver.org/spec/v2.0.0.html), версия формируется в формате `MAJOR.MINOR.PATCH`.

### Конвенция 0.x

- Для исправлений/фич (если **нет** BREAKING CHANGE) увеличивается `PATCH` (например, если текущая версия 0.2.3, новая версия будет 0.2.**4**).
- Для **ломающих изменений (BREAKING CHANGE)** увеличивается `MINOR` (например, если текущая версия 0.2.3, новая версия будет 0.**3.0**).

---

## Выпуск версии

1. Переключитесь на последнюю версию ветки `master`.
2. Получите последние изменения, выполнив `git pull`.
3. Обновите файл `CHANGELOG.md` для нового выпуска:
   - создайте новый заголовок для НЕВЫПУЩЕННЫХ изменений,
   - выполните коммит с сообщением `chore: prepare release v0.2.3 [ci skip]` (да, напрямую в `master`).

4. Запустите выпуск:

   - **Обязательно проверьте [этот раздел](#конвенция-0x)**, чтобы определить, какое значение версии (major, minor, patch) нужно увеличить.
   - Для увеличения `PATCH` выполните команду `yarn release:patch`.
   - Для увеличения `MINOR` выполните команду `yarn release:minor`.

Перед выпуском будет выполнен ряд тестов. Команда выпуска (step 4) автоматически обработает весь процесс тегирования и выпуска. Просто дождитесь завершения.
